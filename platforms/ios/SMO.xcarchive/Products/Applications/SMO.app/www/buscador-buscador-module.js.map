{"version":3,"sources":["webpack:///./src/app/pages/buscador/buscador.module.ts","webpack:///./src/app/pages/buscador/buscador.page.html","webpack:///./src/app/pages/buscador/buscador.page.scss","webpack:///./src/app/pages/buscador/buscador.page.ts","webpack:///./src/app/services/buscador.service.ts"],"names":[],"mappings":"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","file":"buscador-buscador-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { BuscadorPage } from './buscador.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BuscadorPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [BuscadorPage]\n})\nexport class BuscadorPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n      <ion-back-button color=\\\"light\\\" text=\\\"Atras\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>Buscador</ion-title>\\n  </ion-toolbar>\\n  <ion-toolbar color=\\\"primary\\\" class=\\\"buscadores\\\">\\n    <ion-searchbar class=\\\"buscador\\\" debounce=\\\"650\\\" animated placeholder=\\\"Buscar actividad, cartel, video...\\\"\\n      (ionChange)=\\\"buscar($event)\\\" color=\\\"light\\\" showCancelButton cancelButtonText=\\\"OK\\\"></ion-searchbar>\\n    <ion-segment [(ngModel)]=\\\"_bs.tipo_actual\\\" color=\\\"light\\\">\\n      <ion-segment-button value=\\\"1\\\">Actividades\\n      </ion-segment-button>\\n      <ion-segment-button value=\\\"2\\\">Carteles\\n      </ion-segment-button>\\n      <ion-segment-button value=\\\"3\\\">Videos\\n      </ion-segment-button>\\n      <!-- <ion-segment-button value=\\\"4\\\">Profesores\\n      </ion-segment-button> -->\\n    </ion-segment>\\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n<ion-content>\\n  <div [ngSwitch]=\\\"_bs.tipo_actual\\\">\\n    <ng-container *ngFor=\\\"let tipo of _bs.tipos\\\">\\n      <div *ngSwitchCase=\\\"tipo.tipo\\\">\\n        <ion-list>\\n          <ion-item  *ngFor=\\\"let resultado of tipo.resultados\\\"  href=\\\"javascript:;\\\" (click)=\\\"detalles(resultado)\\\" >\\n            <ion-label style=\\\"white-space: normal;\\\">\\n              <h2>{{resultado.principal}}</h2>\\n              \\n            </ion-label>\\n          </ion-item> \\n        </ion-list>\\n      </div>\\n    </ng-container>\\n  </div>\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2J1c2NhZG9yL2J1c2NhZG9yLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { BuscadorService } from 'src/app/services/buscador.service';\nimport { InAppBrowser } from '@ionic-native/in-app-browser/ngx';\nimport { NavController } from '@ionic/angular';\nimport { AjustesService } from 'src/app/services/ajustes.service';\n\n@Component({\n  selector: 'app-buscador',\n  templateUrl: './buscador.page.html',\n  styleUrls: ['./buscador.page.scss'],\n})\nexport class BuscadorPage implements OnInit {\n  variable: string;\n  constructor(\n    public _bs: BuscadorService,\n    private iab: InAppBrowser,\n    private navCtrl: NavController,\n    private _as: AjustesService\n  ) {\n    this.variable = \"\";\n    this._bs.tipo_actual = \"1\";\n    this._bs.tipos = [];\n  }\n\n  ngOnInit() {\n    this._as.checkConexion();\n  }\n  buscar(texto: any) {\n    if (!this._as.online) {\n      this._as.presentAlert(\"Esta sección solo funciona con conexión a internet, vuelve al menú y realiza las busquedas en programa general, videos, carteles o ponentes según lo requieras.\");\n    } else {\n      this._bs.tipos = [];\n      this.variable = texto.target.value;\n      if (this.variable.length > 3) {\n        this._bs.buscar(this.variable);\n      }\n    }\n\n  }\n\n  detalles(resultado: IResultado) {\n    if (resultado.clase == \"video\" || resultado.clase == \"cartel\") {\n      this.iab.create(resultado.extra, '_system');\n    } else {\n      this.navCtrl.navigateForward(`/tabs/principal/programa/actividad/${resultado.id}`);\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { URL_SERVICIOS } from \"../config/url.servicios\";\nimport { AjustesService } from './ajustes.service';\nimport 'rxjs/add/operator/map';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BuscadorService {\n  tipos:ITipo[];\n  tipo_actual:string;\n  constructor(\n    private http: HttpClient,\n    private _as: AjustesService,\n  ) { \n    this.tipos=[];\n    this.tipo_actual=\"1\";\n  }\n\n  async buscar(variable: string) {\n    this.tipos=[];\n    if (!this._as.online) {\n      \n    } else {\n      let url = URL_SERVICIOS + \"/buscador.php?search=\" + variable;\n      let promesa = this.http.get<InterfaceBuscador>(url)\n        .toPromise()\n        .then(data => {\n          this.tipos=data.tipos;\n          this.tipo_actual=data.tipo_actual;\n          return promesa;\n        })\n        .catch(error => {\n          this._as.presentToast(\"Ocurrio un error\");\n          return Promise.reject(error);\n        });\n      return promesa;\n    }\n  }\n\n\n\n}\n"],"sourceRoot":""}