{"version":3,"sources":["webpack:///./src/app/pages/notificacion/notificacion.module.ts","webpack:///./src/app/pages/notificacion/notificacion.page.html","webpack:///./src/app/pages/notificacion/notificacion.page.scss","webpack:///./src/app/pages/notificacion/notificacion.page.ts","webpack:///./src/app/pages/notificaciones/notificaciones.module.ts","webpack:///./src/app/pages/notificaciones/notificaciones.page.html","webpack:///./src/app/pages/notificaciones/notificaciones.page.scss","webpack:///./src/app/pages/notificaciones/notificaciones.page.ts"],"names":[],"mappings":"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","file":"notificaciones-notificaciones-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { NotificacionPage } from './notificacion.page';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule\n  ],\n  declarations: [NotificacionPage]\n})\nexport class NotificacionPageModule {}\n","module.exports = \"<ion-header>\\n    <ion-toolbar color=\\\"primary\\\">\\n        <ion-title>Notificación</ion-title>\\n        <ion-buttons slot=\\\"end\\\">\\n          <ion-icon slot=\\\"icon-only\\\" (click)=\\\"salir()\\\" name=\\\"close\\\"></ion-icon>\\n        </ion-buttons>\\n      </ion-toolbar>\\n</ion-header>\\n\\n\\n\\n\\n<ion-content>\\n    <ion-card>\\n        <ion-card-header>\\n          <ion-card-title>{{notificacion.titulo}}</ion-card-title>\\n          <ion-card-subtitle>{{notificacion.time}}</ion-card-subtitle>\\n        </ion-card-header>\\n      \\n        <ion-card-content>\\n         {{notificacion.mensaje}}\\n        </ion-card-content>\\n      </ion-card>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL25vdGlmaWNhY2lvbi9ub3RpZmljYWNpb24ucGFnZS5zY3NzIn0= */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-notificacion',\n  templateUrl: './notificacion.page.html',\n  styleUrls: ['./notificacion.page.scss'],\n})\nexport class NotificacionPage implements OnInit {\n  @Input() notificacion; \n\n  constructor(private modalCtrl: ModalController) { }\n\n  ngOnInit() {\n    console.log(this.notificacion);\n  }\n  salir() {\n    this.modalCtrl.dismiss();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NotificacionesPage } from './notificaciones.page';\nimport { NotificacionPage } from '../notificacion/notificacion.page';\nimport { NotificacionPageModule } from '../notificacion/notificacion.module';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NotificacionesPage\n  }\n];\n\n@NgModule({\n  entryComponents: [\n    NotificacionPage\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NotificacionPageModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [NotificacionesPage]\n})\nexport class NotificacionesPageModule { }\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title>Notificaciones</ion-title>\\n    <!-- <ion-buttons slot=\\\"end\\\">\\n      <ion-button  (click)=\\\"borrarMensajes()\\\">\\n        <ion-icon slot=\\\"icon-only\\\"  name=\\\"trash\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons> -->\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <!-- List of Text Items -->\\n  <ion-list>\\n    <ion-item *ngFor=\\\"let notificacion of mensajes\\\" (click)=\\\"verNotificacion(notificacion); notificacion.visto=1;\\\" href=\\\"javascript:;\\\" [ngClass]=\\\"(!notificacion.visto) ? 'novisto' : ''\\\">\\n      <ion-label>\\n        <h2>{{notificacion.titulo}}</h2>\\n        <h3>{{notificacion.mensaje}}</h3>\\n        <p>{{notificacion.time}}</p>\\n      </ion-label>\\n    </ion-item>\\n    <ion-item *ngIf=\\\"!existen\\\">\\n      <ion-label>\\n        <h3>No hay notificaciones</h3>\\n\\n      </ion-label>\\n    </ion-item>\\n    \\n  </ion-list>\\n<!-- \\n  <ion-button color=\\\"danger\\\" (click)=\\\"verNotificacion('Notificacion','Mensaje');\\\">\\n      <ion-icon slot=\\\"icon-only\\\" color=\\\"danger\\\" name=\\\"trash\\\"></ion-icon>\\n    </ion-button> -->\\n\\n\\n\\n  \\n</ion-content>\"","module.exports = \".novisto {\\n  --ion-background-color: #e4e4e4; }\\n\\nh3 {\\n  color: #373744; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9icmIvRG9jdW1lbnRzL0dpdEh1Yi9zbW8yMDE5L3NyYy9hcHAvcGFnZXMvbm90aWZpY2FjaW9uZXMvbm90aWZpY2FjaW9uZXMucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksK0JBQXVCLEVBQUE7O0FBSXZCO0VBQ0ksY0FBc0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL25vdGlmaWNhY2lvbmVzL25vdGlmaWNhY2lvbmVzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ub3Zpc3Rve1xuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICNlNGU0ZTQ7XG4gICAgfVxuICAgIFxuXG4gICAgaDN7XG4gICAgICAgIGNvbG9yOiByZ2IoNTUsIDU1LCA2OCk7XG4gICAgfVxuIl19 */\"","import { Component, OnInit, ApplicationRef } from '@angular/core';\nimport { PushService } from 'src/app/services/push.service';\nimport { OSNotificationPayload } from '@ionic-native/onesignal/ngx';\nimport { AlertController, ModalController } from '@ionic/angular';\nimport { NotificacionPage } from '../notificacion/notificacion.page';\nimport { INotificacion, INotificaciones } from 'src/app/interfaces/notificaciones';\nimport { AjustesService } from 'src/app/services/ajustes.service';\n@Component({\n  selector: 'app-notificaciones',\n  templateUrl: './notificaciones.page.html',\n  styleUrls: ['./notificaciones.page.scss'],\n})\nexport class NotificacionesPage implements OnInit {\n  mensajes: INotificacion[];\n  notificaciones: INotificacion[];\n  msgs = [\n    {\n      title: 'Titulo de la push',\n      body: 'Este es el body de la push',\n      date: 'Jueves 3:30pm'\n    }\n  ];\n  existen:boolean=false;\n  constructor(\n    private pushService: PushService,\n    private applicationRef: ApplicationRef,\n    private alertCtrl: AlertController,\n    private modalCtrl: ModalController,\n    private _as:AjustesService\n  ) {\n   // this.pushService.cargar_todos();\n   }\n\n\n  ngOnInit() {\n    this.pushService.pushListener.subscribe(\n      notificacion => {\n        this.mensajes.unshift(notificacion);\n        //this.applicationRef.tick();\n        if(this.mensajes.length>0){\n          console.log(\"no hay\");\n          this.existen=true;\n        }else{\n          this.existen=false;\n          console.log(\"si hay\");\n        }\n      }\n    );\n  }\n\n  async ionViewWillEnter() {\n    this.mensajes=[];\n    this.mensajes = await this.pushService.cargar_todos();\n    if(this.mensajes.length>0){\n      console.log(\"si hay will\");\n      this.existen=true;\n    }else{\n      console.log(\"no hay will\");\n      this.existen=false;\n    }\n  }\n\n\n\n  async borrarMensajes() {\n    const alert = await this.alertCtrl.create({\n      header: 'Borrar noticiaciones',\n      message: '¿Seguro que desea borrar todas las noticifaciones?',\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            console.log('Confirm Cancel: blah');\n          }\n        }, {\n          text: 'Borrar',\n          handler: () => {\n            this.mensajes = [];\n            this.existen=false;\n            this.pushService.borrarMensajes();\n          }\n        }\n      ]\n    });\n\n    await alert.present();\n  }\n\n\n  async verNotificacion(notificacion:any) {\n    const modal = await this.modalCtrl.create({\n      component: NotificacionPage,\n      componentProps: { \n        'notificacion': notificacion\n       }\n    });\n    if(this._as.sinleer>0){\n      this._as.sinleer=this._as.sinleer-1;\n    }\n    \n    this.pushService.marcar_visto(notificacion.id);\n    return await modal.present();\n\n\n  }\n  \n\n}\n"],"sourceRoot":""}